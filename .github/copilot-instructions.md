# .NET Documentation Guidelines

IMPORTANT: For any Markdown files generated by AI, always disclose that they were created with the assistance of AI. If missing, add the `ai-usage` frontmatter key/value pair:

- When reviewing a PR not created by AI:

  ```markdown
  ai-usage: ai-assisted
  ```

- When Copilot generates the article through GitHub without the use of a human:

  ```markdown
  ai-usage: ai-generated
  ```

- When using an IDE with a human guiding AI:

  ```markdown
  ai-usage: ai-assisted
  ```

## Terminology

Unless otherwise specified, all .NET content refers to modern .NET (not .NET Framework).

## API References

Use cross-references: `<xref:api-doc-ID>`.

To find API doc IDs:
1. Check XML files in https://github.com/dotnet/dotnet-api-docs.
2. For types: `Value` attribute of `<TypeSignature>` where `Language="DocId"` (omit first 2 characters).
3. For members: `Value` attribute of `<MemberSignature>` where `Language="DocId"` (omit first 2 characters).

If unsure, use API browser: `https://learn.microsoft.com/api/apibrowser/dotnet/search?api-version=0.2&locale=en-us&search={API_NAME}&$skip=0&$top=5` and then use the `url` value from the results as a manual link.

## Code Snippets

For snippets >6 lines:
1. Create `./snippets/my-doc/language` folder in same directory as document (for a document named `my-doc.md`) where language is either vb (for visual basic) or csharp (for c#). Omit the `language` component when the document is in the `docs/visual-basic`, `docs/csharp`, or `docs/fsharp` folders.
1. Add snippet as separate code file.
1. Include simple project file targeting latest .NET.
1. All code should use the latest stable versions/features.
1. Create examples in both C# and Visual Basic unless the article referencing the snippet resides in the in the `csharp`, `fsharp`, and `visual-basic` language folders.
1. When you add code, use code comments sparingly because they don't get localized. You can use them to briefly clarify code-specific details (such as logic, parameters, or edge cases). Put any critical information and context in the markdown text of the referencing article.
1. IMPORTANT: For created code, always try to encapsulate it in an standalone executable (e.g. `dotnet fsi myFile.fsx` or `dotnet run myFile.cs`, add the necessary boilerplate/imports/usings where needed, and execute it.). Run it, and for every code snippet, include a PR commentary checking each code sample and proving what it has produced - this can be diagnostics, standard output, or a result value. That standalone file is just for the purpose of verification within copilot's execution environment, the published docs snippet should remain a subset as you would normally write to maximize clarity.

## File Naming

New Markdown files: lowercase with hyphens, omit filler words (the, a, etc.).

Examples:
- ✅ Good: `getting-started-with-entity-framework.md`
- ✅ Good: `configure-logging.md`
- ✅ Good: `dependency-injection-guidelines.md`
- ❌ Bad: `Getting-Started-With-The-Entity-Framework.md`
- ❌ Bad: `configure_logging.md`
- ❌ Bad: `DependencyInjectionGuidelines.md`

## Documentation from External Sources (Blog Posts, Announcements)

When adapting content from external sources like blog posts into documentation:

**DO:**
- Work on one version/topic at a time - never combine multiple versions in a single PR.
- Copy working code samples directly from source when available.
- Execute and validate all code examples with appropriate tools (`dotnet fsi` for F#, simple console apps for C#).
- Provide execution proofs in PR comments for any generated code.
- Create a checklist TODO for each section of the source document before writing.
- Map each documentation section 1:1 to source content.
- Explicitly state what is copied vs. generated in PR description.

**DON'T:**
- Invent or elaborate on features not explicitly mentioned in source.
- Create placeholder sections without content.
- Assume feature details or characteristics.
- Combine information from multiple versions/sources.
- Add examples without verifying they demonstrate the stated feature.

**PR Description Must Include:**
- Content source breakdown (% copied vs. generated).
- List of fabricated/generated sections requiring expert review.
- Execution proof for all code samples.
- Clear warnings about any uncertainties.

## Special Cases

### Breaking Changes
- Include directions from `.github/prompts/breaking-change.md`.

### GitHub Issue Assignment (AI Workflow)
When assigned an issue or directly given a task in GitHub:
1. Complete your work
2. Wait for workflows (status checks) to run
3. Check for build warnings in the OpenPublishing.Build status check
4. If warnings exist:
   - Click "View Details" to open the build report
   - Resolve any build warnings you introduced
