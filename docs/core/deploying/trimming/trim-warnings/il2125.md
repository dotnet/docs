---
title: "IL2125: Referenced assembly is not marked as trimmable"
description: "Learn about trim warning IL2125: Referenced assembly is not marked as trimmable"
ms.date: 12/02/2024
f1_keywords:
  - "IL2125"
---
# IL2125: Referenced assembly is not annotated for trim compatibility

## Cause

A project has `<VerifyReferenceTrimCompatibility>true</VerifyReferenceTrimCompatibility>` set, and one or more referenced assemblies don't have the `IsTrimmable` assembly metadata attribute set to `true`.

## Rule description

When you enable trim analysis with `<EnableTrimAnalyzer>true</EnableTrimAnalyzer>` or mark your project as trimmable with `<IsTrimmable>true</IsTrimmable>`, you can optionally enable verification that all referenced assemblies are also marked as trimmable. This helps ensure that all dependencies in your project are annotated for trim compatibility.

To enable this verification, set the `VerifyReferenceTrimCompatibility` property to `true` in your project file:

```xml
<PropertyGroup>
  <EnableTrimAnalyzer>true</EnableTrimAnalyzer>
  <VerifyReferenceTrimCompatibility>true</VerifyReferenceTrimCompatibility>
</PropertyGroup>
```

When this property is enabled, the analyzer checks that all referenced assemblies have been built with `<IsTrimmable>true</IsTrimmable>`, which adds the assembly-level attribute `[assembly: AssemblyMetadata("IsTrimmable", "True")]` to the assembly.

## Example

```csharp
// Assembly reference: MyLibrary.dll (built without <IsTrimmable>true</IsTrimmable>)

public class Program
{
    public static void Main()
    {
        // IL2125: Referenced assembly 'MyLibrary' is not built with `<IsTrimmable>true</IsTrimmable>`
        // and may not be compatible with trimming.
        var obj = new MyLibrary.SomeClass();
    }
}
```

## How to fix violations

You have several options to fix this warning:

1. **Update the referenced library** to be built with `<IsTrimmable>true</IsTrimmable>`. This is the preferred approach if you control the library source code. See [Prepare .NET libraries for trimming](../prepare-libraries-for-trimming.md) for guidance on making libraries trim-compatible.

2. **Disable the verification** by setting `<VerifyReferenceTrimCompatibility>false</VerifyReferenceTrimCompatibility>` in your project file if you're confident that the library works correctly with trimming even without the attribute.

## See also

- [Prepare .NET libraries for trimming](../prepare-libraries-for-trimming.md)
- [Introduction to trim warnings](../fixing-warnings.md)
- [Trim self-contained deployments and executables](../trim-self-contained.md)
