using Microsoft.CodeAnalysis;

// <MinimalGenerator>
[Generator]
public class MinimalGenerator : IIncrementalGenerator
{
    public void Initialize(IncrementalGeneratorInitializationContext context)
    {
        // Register a static source that always gets added to the compilation.
        context.RegisterPostInitializationOutput(ctx =>
        {
            ctx.AddSource("GeneratedHelper.g.cs", """
                // <auto-generated/>
                public static class GeneratedHelper
                {
                    public static string Greet(string name) =>
                        $"Hello, {name}! (generated at compile time)";
                }
                """);
        });
    }
}
// </MinimalGenerator>
