---
title: POS Exception Handling
ms.date: 03/03/2014
ms.topic: how-to
ms.custom: pos-restored-from-archive
---

# POS Exception Handling (POS for .NET v1.14 SDK Documentation)

Error handling in Microsoft Point of Service for .NET (POS for .NET) is built on the object-oriented model of throwing and catching exceptions. Different exceptions are thrown in response to run-time errors, and each exception contains information about the error that triggered it in the form of an [ErrorCode](ms884224\(v=winembedded.11\).md).

The **ErrorCode** property of a thrown exception holds information about the cause of the error. Possible values for this property represent the full set of standard Unified Point Of Service (UnifiedPOS) error codes. For more information about the mapping between UnifiedPOS error codes and the POS for .NET **ErrorCode** values, see POS for .NET [Exception Classes](exception-classes.md).

POS for .NET provides four exception classes to help applications better handle errors. These are [PosException](ms884839\(v=winembedded.11\).md), [PosControlException](ms884827\(v=winembedded.11\).md), [PosManagementException](ms884858\(v=winembedded.11\).md), and [PosLibraryException](ms884854\(v=winembedded.11\).md):

- **PosException** is an abstract class that holds general exception data. **PosException** fulfills a role similar to that of the **System.Exception** class in the .NET Framework, and is the POS for .NET implementation of the **UposException** class in the UnifiedPOS specification. All other POS for .NET exception classes are derived from **PosException**.
- **PosControlException** is the standard exception thrown by POS for .NET Service Objects. **PosControlException** contains a [ErrorCode](ms861779\(v=winembedded.11\).md) property which holds information about the cause of the exception.
- **PosLibraryException** holds the exception data generated by **PosExplorer** during class operations. **PosLibraryException** does not contain an **ErrorCode** property.
- **PosManagementException** holds the exception data generated by POS for .NET management APIs. **PosManagementException** does not contain an **ErrorCode** property.

## Error Handling in POS for .NET

Error handling in POS for .NET is compliant with UnifiedPOS specification guidelines. Error handling is event-driven, uses error codes to store exception information, and is largely implementation-specific.

Handling errors in POS for .NET follows this general procedure:

1. An error is thrown by event-driven input.

2. The device changes its [State](ms861104\(v=winembedded.11\).md) property to indicate that it has encountered an error.

3. An **ErrorEvent** event is queued to alert the application that an error has occurred. The **ErrorEvent** is added to the end of the queue.

4. If one or more **DataEvent** events are queued in front of the **ErrorEvent** event, another **ErrorEvent** is queued and added at the head of queue. This warns the application about the error quickly so it can respond in an implementation-specific manner prior to processing any queued **DataEvents**.

5. If the applications properties are configured to accept events (**DataEventEnabled** is **true** and [FreezeEvents](ms861099\(v=winembedded.11\).md) is **false**), it responds to the **ErrorEvent** event in a manner determined by the [ErrorResponse](aa460205\(v=winembedded.11\).md) property, as indicated in the following table.

    <table>
    <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th><strong>Value</strong></th>
    <th><strong>Meaning of Response</strong></th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td><p>Clear</p></td>
    <td><p>Clears any buffered <strong>DataEvent</strong> events and <strong>ErrorEvent</strong> events, exits the Error state, and changes the device <strong>State</strong> to <strong>Idle</strong>.</p></td>
    </tr>
    <tr class="even">
    <td><p>ContinueInput</p></td>
    <td><p>Acknowledges the error and directs the device to continue processing. The device remains in the Error state and will deliver additional data events as directed by the <strong>DataEventEnabled</strong> property. When all input has been delivered, and the <strong>DataEventEnabled</strong> property is again set to <strong>true</strong>, another <strong>ErrorEvent</strong> is delivered with the locus <strong>Input</strong>.</p></td>
    </tr>
    <tr class="odd">
    <td><p>Retry</p></td>
    <td><p>Directs the device to retry the input. The Error state is exited, and <strong>State</strong> is changed to <strong>Idle</strong>. This response is only selected when the device chapter specifically allows it and when the locus is <strong>Input</strong>.</p></td>
    </tr>
    </tbody>
    </table>

    The application may also take implementation-specific steps to respond to the error at this time.

## See Also

#### Reference

[PosException](ms884839\(v=winembedded.11\).md)
[PosLibraryException](ms884854\(v=winembedded.11\).md)
[PosManagementException](ms884858\(v=winembedded.11\).md)
[PosControlException](ms884827\(v=winembedded.11\).md)
[ErrorCode](ms884224\(v=winembedded.11\).md)
[PosExplorer](ms884843\(v=winembedded.11\).md)

#### Concepts

[PosExplorer Class](posexplorer-class.md)
[Exception Classes](exception-classes.md)
[Event Management](event-management.md)
