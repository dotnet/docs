---
description: "Learn more about: How to: Retrieve Metadata and Implement a Compliant Service"
title: "How to: Retrieve Metadata and Implement a Compliant Service"
ms.date: "03/30/2017"
ms.assetid: f6f3a2b9-c8aa-4b0b-832c-ec2927bf1163
---
# How to: Retrieve Metadata and Implement a Compliant Service

Often, the same person does not design and implement services. In environments where interoperating applications are important, contracts can be designed or described in Web Services Description Language (WSDL) and a developer must implement a service that complies with the provided contract. You may also want to migrate an existing service to Windows Communication Foundation (WCF) but preserve the wire format. In addition, duplex contracts require callers to implement a callback contract as well.  
  
 In these cases, you must use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) (or an equivalent tool) to generate a service contract interface in a managed language that you can implement to fulfill the requirements of the contract. Typically the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) is used to acquire a service contract that is used with a channel factory or a WCF client type as well as with a client configuration file that sets up the correct binding and address. To use the generated configuration file, you must change it into a service configuration file. You may also need to modify the service contract.  
  
### To retrieve data and implement a compliant service  
  
1. Use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) against metadata files or a metadata endpoint to generate a code file.  
  
2. Search for the portion of the output code file that contains the interface of interest (in case there is more than one) that is marked with the <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> attribute. The following code example shows the two interfaces generated by [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md). The first (`ISampleService`) is the service contract interface that you implement to create a compliant service. The second (`ISampleServiceChannel`) is a helper interface for client use that extends both the service contract interface and <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> and is for use in a client application.  
  
     [!code-csharp[ClientProxyCodeSample#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/proxycode.cs#2)]  
  
3. If the WSDL does not specify a reply action for all of the operations, the generated operation contracts may have the <xref:System.ServiceModel.OperationContractAttribute.ReplyAction%2A> property set to the wildcard character (*). Remove this property setting. Otherwise, when you implement the service contract metadata, the metadata cannot be exported for those operations.  
  
4. Implement the interface on a class and host the service. For an example, see [How to: Implement a Service Contract](../how-to-implement-a-wcf-contract.md), or see a simple implementation below in the Example section.  
  
5. In the client configuration file that the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) generates, change the [\<client>](../../configure-apps/file-schema/wcf/client.md) configuration section to a [\<services>](../../configure-apps/file-schema/wcf/services.md) configuration section. (For an example of a generated client application configuration file, see the following "Example" section.)  
  
6. Within the [\<services>](../../configure-apps/file-schema/wcf/services.md) configuration section, create a `name` attribute in the [\<services>](../../configure-apps/file-schema/wcf/services.md) configuration section for your service implementation.  
  
7. Set the service `name` attribute to the configuration name for your service implementation.  
  
8. Add the endpoint configuration elements that use the implemented service contract to the service configuration section.  
  
## Example  

 The following code example shows the majority of a code file generated by running the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) against metadata files.  
  
 The following code shows:  
  
- The service contract interface that, when implemented, complies with the contract requirements (`ISampleService`).  
  
- The helper interface for client use that extends both the service contract interface and <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> and is for use in a client application (`ISampleServiceChannel`).  
  
- The helper class that extends <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType> and is for use in a client application (`SampleServiceClient`).  
  
- The configuration file generated from the service.  
  
- A simple `ISampleService` service implementation.  
  
- A conversion of the client-side configuration file to a service-side version.  
  
[!code-csharp[ClientProxyCodeSample#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/proxycode.cs#1)]

[!code-xml[ClientProxyCodeSample#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/client.exe.config#10)]

[!code-csharp[ClientProxyCodeSample#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/hostapplication.cs#5)]

[!code-xml[ClientProxyCodeSample#20](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/hostapplication.exe.config#20)]
  
## See also

- [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md)
