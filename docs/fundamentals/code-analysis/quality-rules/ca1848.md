---
title: "CA1848: Use the LoggerMessage delegates (code analysis)"
description: "Learn about code analysis rule CA1848: Use the LoggerMessage delegates"
ms.date: 08/04/2025
f1_keywords:
  - "LoggerMessageDefineAnalyzer"
  - "CA1848"
helpviewer_keywords:
  - "LoggerMessageDefineAnalyzer"
  - "CA1848"
author: Youssef1313
---
# CA1848: Use the LoggerMessage delegates

| Property                            | Value                                  |
|-------------------------------------|----------------------------------------|
| **Rule ID**                         | CA1848                                 |
| **Title**                           | Use the LoggerMessage delegates        |
| **Category**                        | [Performance](performance-warnings.md) |
| **Fix is breaking or non-breaking** | Non-breaking                           |
| **Enabled by default in .NET 9**    | No                                     |

## Cause

Use of [logger extension methods](xref:Microsoft.Extensions.Logging.LoggerExtensions), such as <xref:Microsoft.Extensions.Logging.LoggerExtensions.LogInformation%2A> and <xref:Microsoft.Extensions.Logging.LoggerExtensions.LogDebug%2A>.

## Rule description

For high-performance logging scenarios, use the [LoggerMessage](../../../core/extensions/logger-message-generator.md) pattern instead of <xref:Microsoft.Extensions.Logging.Logger`1> extension methods.

## How to fix violations

Use <xref:Microsoft.Extensions.Logging.LoggerMessageAttribute> to fix violations of this rule. (Or, if you're using .NET 5 or earlier, use the <xref:Microsoft.Extensions.Logging.LoggerMessage> class.)

```csharp
public class SomethingDoer
{
   private readonly ILogger _logger;
   public SomethingDoer(ILogger<SomethingDoer> logger)
   {
       _logger = logger;
   }

   public void DoSomething()
   {
       // This call violates CA1848.
       _logger.LogInformation("Did something!");
   }
}
```

The following code fixes the violation.

```csharp
public partial class SomethingDoer
{
   private readonly ILogger _logger;
   public SomethingDoer(ILogger<SomethingDoer> logger)
   {
       _logger = logger;
   }

   public void DoSomething()
   {
       Log_DidSomething();
   }

   [LoggerMessage(Level = LogLevel.Information, Message = "Did something!")]
   private partial void Log_DidSomething();
}
```

<xref:Microsoft.Extensions.Logging.LoggerMessage> provides the following performance advantages over <xref:Microsoft.Extensions.Logging.Logger`1> extension methods:

- Logger extension methods require "boxing" (converting) value types, such as `int`, into `object`. The <xref:Microsoft.Extensions.Logging.LoggerMessage> pattern avoids boxing by using static <xref:System.Action> fields and extension methods with strongly typed parameters.
- Logger extension methods must parse the message template (named format string) every time a log message is written. <xref:Microsoft.Extensions.Logging.LoggerMessage> only requires parsing a template once when the message is defined.

## When to suppress warnings

Do not suppress a warning from this rule.

## See also

- [Compile-time logging source generation](../../../core/extensions/logger-message-generator.md)
- [High-performance logging in .NET](../../../core/extensions/high-performance-logging.md)
- [Performance rules](performance-warnings.md)
