---
title: "CA1865: Use char overload"
description: "Use 'string.Method(char)' instead of 'string.Method(string)' when you have a string with a single char"
ms.date: 07/27/2023
ms.topic: reference
f1_keywords:
    - CA1865
helpviewer_keywords:
    - CA1865
dev_langs:
    - CSharp
    - VB
author: mrahhal
---

# CA1865-1867: Use 'string.Method(char)' instead of 'string.Method(string)' when you have a string with a single char

|                                     | Value                                  |
| ----------------------------------- | -------------------------------------- |
| **Rule ID**                         | CA1865-1867                            |
| **Category**                        | [Performance](performance-warnings.md) |
| **Fix is breaking or non-breaking** | Non-breaking                           |
| **Enabled by default in .NET 7**    | No                                     |

## Cause

`string.Method(string)` is used when `string.Method(char)` was available.

The target methods on `string` for this rule:

- `StartsWith`
- `EndsWith`
- `IndexOf`
- `LastIndexOf`

This rule applies when a safe transformation can be performed automatically with a code fix.

The following table summarizes the conditions under which each rule applies.

| Diagnostic ID | Description | CodeFix |
| - | - | - |
| CA1865 | Applies when a safe transformation can be performed automatically with a code fix. | Yes |
| CA1866 | Applies when there's no specified comparison. | No |
| CA1867 | Applies when any other string comparison that is not covered by the other rules is used. | No |

Note that CA1867 is disabled by default.

## Rule description

The char overload is a better performing overload than a string with a single char.

## How to fix violations

The rule is fixed by using the char overload instead of a string.

```csharp
public bool StartsWithLetterI()
{
    var testString = "I am a test string.";
    return testString.StartsWith("I", StringComparison.Ordinal);
}
```

```vb
Public Function StartsWithLetterI() As Boolean
    Dim testString As String = "I am a test string."
    Return testString.StartsWith("I", StringComparison.Ordinal)
End Function
```

This code can be changed to use a char instead.

```csharp
public bool StartsWithLetterI()
{
    var testString = "I am a test string.";
    return testString.StartsWith('I');
}
```

```vb
Public Function StartsWithLetterI() As Boolean
    Dim testString As String = "I am a test string."
    Return testString.StartsWith("I"c)
End Function
```

## When to suppress warnings

Suppress a violation of this rule if you're not concerned about the performance impact of calling the method with a string.

## Suppress a warning

If you just want to suppress a single violation, add preprocessor directives to your source file to disable and then re-enable the rule.

```csharp
#pragma warning disable CA1865
// The code that's violating the rule is on this line.
#pragma warning restore CA1865
```

To disable the rule for a file, folder, or project, set its severity to `none` in the [configuration file](../configuration-files.md).

```ini
[*.{cs,vb}]
dotnet_diagnostic.CA1865.severity = none
```

For more information, see [How to suppress code analysis warnings](../suppress-warnings.md).

## Related rules

- [CA1847: Use string.Contains(char) instead of string.Contains(string) with single characters](ca1847.md)

## See also

- [Performance rules](performance-warnings.md)
