---
title: "CA1866: Use char overload"
description: "Use 'string.Method(char)' instead of 'string.Method(string)' when you have a string with a single char"
ms.date: 25/07/2023
ms.topic: reference
f1_keywords:
  - CA1866
helpviewer_keywords:
  - CA1866
dev_langs:
  - CSharp
  - VB
author: mrahhal
---
# CA1866: Use 'string.Method(char)' instead of 'string.Method(string)' when you have a string with a single char

|                                     | Value                                  |
| ----------------------------------- | -------------------------------------- |
| **Rule ID**                         | CA1866                                 |
| **Category**                        | [Performance](performance-warnings.md) |
| **Fix is breaking or non-breaking** | Non-breaking                           |
| **Enabled by default in .NET 7**    | No                                     |

## Cause

`string.Method(string)` is used when `string.Method(char)` was available.

The target methods on `string` for this rule:

- `StartsWith`
- `EndsWith`
- `IndexOf`
- `LastIndexOf`

This rule applies when there's no specified comparison.

## Rule description

The char overload is a better performing overload than a string with a single char.

## How to fix violations

The rule is fixed by using the char overload instead of a string.

```csharp
public bool StartsWithLetterI()
{
    var testString = "I am a test string.";
    return testString.StartsWith("I");
}
```

```vb
Public Function StartsWithLetterI() As Boolean
    Dim testString As String = "I am a test string."
    Return testString.StartsWith("I")
End Function
```

This code can be changed to use a char instead.

```csharp
public bool StartsWithLetterI()
{
    var testString = "I am a test string.";
    return testString.StartsWith('I');
}
```

```vb
Public Function StartsWithLetterI() As Boolean
    Dim testString As String = "I am a test string."
    Return testString.StartsWith("I"c)
End Function
```

## When to suppress warnings

Suppress a violation of this rule if you're not concerned about the performance impact of calling the method with a string.

## Suppress a warning

If you just want to suppress a single violation, add preprocessor directives to your source file to disable and then re-enable the rule.

```csharp
#pragma warning disable CA1866
// The code that's violating the rule is on this line.
#pragma warning restore CA1866
```

To disable the rule for a file, folder, or project, set its severity to `none` in the [configuration file](../configuration-files.md).

```ini
[*.{cs,vb}]
dotnet_diagnostic.CA1866.severity = none
```

For more information, see [How to suppress code analysis warnings](../suppress-warnings.md).

## Related rules

- [CA1865: Use 'string.Method(char)' instead of 'string.Method(string)' when you have a string with a single char](ca1865.md)
- [CA1867: Use 'string.Method(char)' instead of 'string.Method(string)' when you have a string with a single char](ca1867.md)

## See also

- [Performance rules](performance-warnings.md)
