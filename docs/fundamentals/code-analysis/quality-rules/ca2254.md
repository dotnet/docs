---
title: "CA2254: Template should be a static expression"
description: "Learn about code analysis rule CA2254: Template should be a static expression"
ms.date: 01/19/2022
ms.topic: reference
f1_keywords:
- CA2254
- LoggerMessageDefineAnalyzer
helpviewer_keywords:
- LoggerMessageDefineAnalyzer
- CA2254
author: Youssef1313
---
# CA2254: Template should be a static expression

|                                     | Value                                |
| ----------------------------------- | ------------------------------------ |
| **Rule ID**                         | CA2254                               |
| **Category**                        | [Usage](usage-warnings.md)           |
| **Fix is breaking or non-breaking** | Non-breaking                         |

## Cause

A message template passed to a logger API is not constant.

## Rule description

When performing logging, it's desirable to preserve the structure of the log (including placeholder names) along with the placeholder values. Preserving this information allows for better observability and search in log aggregation and monitoring software.

Preferred:

```csharp
var firstName = "Lorenz";
var lastName = "Otto";

// This tells the logger that there are FirstName and LastName properties
// on the log message, and correlates them with the argument values.
logger.Warning("Person {FirstName} {LastName} encountered an issue", firstName, lastName);
```

Not preferred:

```csharp
// DO NOT DO THIS

var firstName = "Lorenz";
var lastName = "Otto";

// Here, the log template itself is changing, and the association between named placeholders and their values is lost.
logger.Warning("Person " + firstName + " " + lastName + " encountered an issue");

// String interpolation also loses the association between placeholder names and their values.
logger.Warning($"Person {firstName} {lastName} encountered an issue");
```

The logging message template should not vary between calls.

## How to fix violations

Update the message template to be a constant expression. If you're using values directly in the template, refactor them to use named placeholders instead.

```csharp
logger.Warning("Person {FirstName} {LastName} encountered an issue", firstName, lastName);
```

## When to suppress errors

Do not suppress a warning from this rule.

## See also

- [Usage warnings](usage-warnings.md)
