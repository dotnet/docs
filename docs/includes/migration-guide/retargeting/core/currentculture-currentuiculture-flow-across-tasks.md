### CurrentCulture and CurrentUICulture flow across tasks

|   |   |
|---|---|
|Details|Beginning in the .NET Framework 4.6, <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> are stored in the thread&#39;s <xref:System.Threading.ExecutionContext?displayProperty=name>, which flows across asynchronous operations.This means that changes to <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> or <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> will be reflected in tasks which are later run asynchronously. This is different from the behavior of previous .NET Framework versions (which would reset <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> in all asynchronous tasks).|
|Suggestion|Apps affected by this change may work around it by explicitly setting the desired <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> or <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> as the first operation in an async Task. Alternatively, the old behavior (of not flowing <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name>/<xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) may be opted into by setting the following compatibility switch:<pre><code>AppContext.SetSwitch(&quot;Switch.System.Globalization.NoAsyncCurrentCulture&quot;, true);</code></pre>This issue has been fixed by WPF in .NET Framework 4.6.2. It has also been fixed in .NET Frameworks 4.6, 4.6.1 through <a href="https://support.microsoft.com/en-us/kb/3139549">KB 3139549</a>. Applications targeting .NET 4.6 or later will automatically get the right behavior in WPF applications - <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name>/<xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) would be preserved across Dispatcher operations.|
|Scope|Minor|
|Version|4.6|
|Type|Retargeting|
|Affected APIs|<ul><li><xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=fullName></li><li><xref:System.Threading.Thread.CurrentCulture?displayProperty=fullName></li><li><xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=fullName></li><li><xref:System.Threading.Thread.CurrentUICulture?displayProperty=fullName></li></ul>|

